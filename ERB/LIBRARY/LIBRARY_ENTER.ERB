@LIBRARY_ENTER
#DIMS BOOK_NAME

IF !LIBRARY_BOOK_HAVE(0)
    CALL LIBRARY_BOOK_TITLE(0)
    PRINTFORML 바닥에 [%RESULTS%]가 떨어져 있다...
    PRINTFORML [%RESULTS%]가 서재에 추가됐습니다!
    CALL LIBRARY_BOOK_GET(0)
ENDIF

PRINTL 읽을 책을 골라주세요

DRAWLINE

REPEAT LIBRARY_BOOK_MAX
    CALL LIBRARY_BOOK_EXIST(COUNT)
    IF RESULT
        CALL LIBRARY_BOOK_TITLE(COUNT)
        LOCALS '= RESULTS
        SIF !LIBRARY_BOOK_HAVE(COUNT)
            SETCOLORBYNAME GRAY
        PRINTFORML [{COUNT}] %LOCALS%
        RESETCOLOR
    ENDIF
REND

DRAWLINE

PRINTBUTTON "[돌아가기]", -1
PRINTL

INPUT

LOCAL = RESULT

IF LOCAL == -1
    RETURN
ENDIF

TRYCALL LIBRARY_BOOK_EXIST(LOCAL)
IF !RESULT
    RESTART
ENDIF
    
IF !LIBRARY_BOOK_HAVE(LOCAL)
    RESTART
ENDIF

CALL LIBRARY_BOOK_TITLE(LOCAL)
PRINTFORML [%RESULTS%]를 읽습니다

CALL LIBRARY_BOOK_READ(LOCAL)
RESTART
