@EXECUTE_COMMAND(ARG)

CALL CLEAN_AFTER_COM

NOWEX = 0

CALL EVENTCOM
CALLFORM COM{ARG}

IF RESULT != FALSE
    CALL SOURCE_CHECK
    CALL CLEAN_AFTER_SOURCECHECK
    CALL EVENTCOMEND
ENDIF

@CLEAN_AFTER_COM
CALL CLEAN_AFTER_COM_SUB(MASTER)
CALL CLEAN_AFTER_COM_SUB(TARGET)

SIF ASSIPLAY
    CALL CLEAN_AFTER_COM_SUB(ASSI)

@CLEAN_AFTER_COM_SUB(ARG)
VARSET UP:ARG
VARSET DOWN:ARG
VARSET LOSEBASE:ARG

@CLEAN_AFTER_SOURCECHECK
CALL CLEAN_AFTER_SOURCECHECK_SUB(MASTER)
CALL CLEAN_AFTER_SOURCECHECK_SUB(TARGET)

SIF ASSIPLAY
    CALL CLEAN_AFTER_SOURCECHECK_SUB(ASSI)

@CLEAN_AFTER_SOURCECHECK_SUB(ARG)
VARSET SOURCE:ARG


