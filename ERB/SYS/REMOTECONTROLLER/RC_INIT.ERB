@RC_SET_DEPENDENCY

#DIM CONST 회화계 = 0
#DIM CONST 애무계 = 1
#DIM CONST 수치계 = 2
#DIM CONST 도구계 = 3
#DIM CONST V계 = 4
#DIM CONST A계 = 5
#DIM CONST 약품계 = 6
#DIM CONST SM계 = 7
#DIM CONST 촉수계 = 8
#DIM CONST 기타계 = 9

VARSET RC_CATEGORY_DEPENDENCY, FALSE
VARSET RC_CONTAIN_SUB_CATEGORYS, NULL

RC_CATEGORY_DEPENDENCY:0:회화계 = TRUE
RC_CATEGORY_DEPENDENCY:0:애무계 = TRUE
RC_CATEGORY_DEPENDENCY:0:V계 = TRUE
RC_CATEGORY_DEPENDENCY:1:애무계 = TRUE


FOR COUNT, 0, RC_CATEGORY_COUNT
    LOCAL = -1
    FOR COUNT:1, 0, RC_SUB_CATEGORY_COUNT
        SIF RC_CATEGORY_DEPENDENCY:(COUNT:1):COUNT
            RC_CONTAIN_SUB_CATEGORYS:COUNT:(++LOCAL) = COUNT:1
    NEXT 
NEXT

@RC_GET_CATEGORY(ARG)
#FUNCTION

SELECTCASE ARG

    CASE 0 TO 9, 40 TO 59, 120 TO 149, 200 TO 205, 208 TO 211, 301 TO 306, 320 TO 339, 601 TO 605, 611, 612, 625 TO 629, 660
        RETURNF 0

    CASE 10 TO 19, 190, 191, 193, 194, 195, 290, 350 TO 379
        RETURNF 1

    CASE 20 TO 29, 150 TO 169, 600, 610, 613 TO 617, 630, 661
        RETURNF 1

    CASE 30 TO 39, 170 TO 187, 618, 619, 662
        RETURNF 0

    CASE 60 TO 79
        RETURNF 0

    CASE 80 TO 89, 192, 206, 207, 220 TO 239, 240 TO 269, 270 TO 289, 300, 310 TO 313, 622, 623, 624, 690
        RETURNF 0

    CASE 90 TO 119, 188, 291, 292, 293, 307, 308, 309, 620, 621, 631, 663
        RETURNF 0

    CASE 500 TO 599
        RETURNF 0
    
    CASEELSE
        RETURNF 0

ENDSELECT

@RC_INIT_LIST
#DIM TRAINSIZE

CALL RC_SET_DEPENDENCY

VARSET RC_COMMAND_CATEGORY, 0

TRAINSIZE = VARSIZE("TRAINNAME")

REPEAT TRAINSIZE

    SIF TRAINNAME:COUNT == ""
        CONTINUE
        
    RC_COMMAND_CATEGORY:COUNT = RC_GET_CATEGORY(COUNT)
    
REND
